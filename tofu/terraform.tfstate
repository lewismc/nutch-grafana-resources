{"version":4,"terraform_version":"1.11.2","serial":10,"lineage":"4bde1c2e-695a-77ba-1be6-d53b3adb3439","outputs":{"alert_group_loki_critical":{"value":"nutch-loki-critical-alerts","type":"string"},"alert_group_loki_info":{"value":"nutch-loki-info-alerts","type":"string"},"alert_group_loki_warning":{"value":"nutch-loki-warning-alerts","type":"string"},"alert_group_mimir_critical":{"value":"nutch-mimir-critical-alerts","type":"string"},"alert_group_mimir_info":{"value":"nutch-mimir-info-alerts","type":"string"},"alert_group_mimir_warning":{"value":"nutch-mimir-warning-alerts","type":"string"},"dashboard_crawler_monitoring_uid":{"value":"lelnkpd","type":"string"},"dashboard_crawler_monitoring_url":{"value":"https://lewism.grafana.net/d/lelnkpd/nutch-crawler-monitoring","type":"string"},"dashboard_metrics_uid":{"value":"lez89c4","type":"string"},"dashboard_metrics_url":{"value":"https://lewism.grafana.net/d/lez89c4/nutch-metrics-dashboard","type":"string"},"folder_uid":{"value":"ef7whgu312qkgb","type":"string"}},"resources":[{"mode":"managed","type":"grafana_dashboard","name":"nutch_crawler_monitoring","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":1,"attributes":{"config_json":"{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"grafana\",\"uid\":\"-- Grafana --\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"type\":\"dashboard\"}]},\"description\":\"Monitor Apache Nutch web crawler activity, performance, and logs.\",\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":0,\"links\":[],\"panels\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"description\":\"Rate of log entries by level (INFO, WARN, ERROR)\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"logs\"},\"overrides\":[{\"matcher\":{\"id\":\"byName\",\"options\":\"ERROR\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"red\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"WARN\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"yellow\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"INFO\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"green\",\"mode\":\"fixed\"}}]}]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":0,\"y\":0},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\",\"sum\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"multi\",\"sort\":\"desc\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum by (level) (count_over_time({job=\\\"nutch\\\"}[$__auto]))\",\"instant\":false,\"legendFormat\":\"{{level}}\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Log Volume by Level\",\"type\":\"timeseries\"},{\"description\":\"Rate of ERROR level logs over time. If you see 'No data', there are no errors in the selected time range - which is good! ✓\",\"fieldConfig\":{\"defaults\":{\"color\":{\"fixedColor\":\"red\",\"mode\":\"fixed\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"logs\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":12,\"y\":0},\"options\":{\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} | level=\\\"ERROR\\\" [$__auto]))\",\"instant\":false,\"legendFormat\":\"Errors\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Error Rate\",\"type\":\"timeseries\"},{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"description\":\"Total log entries from Nutch in the selected time range\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":4,\"w\":6,\"x\":0,\"y\":8},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"sum\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"}[$__interval]))\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Total Logs\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"description\":\"Total ERROR level log entries in selected time range\",\"fieldConfig\":{\"defaults\":{\"color\":{\"fixedColor\":\"red\",\"mode\":\"fixed\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"yellow\",\"value\":10},{\"color\":\"red\",\"value\":50}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":4,\"w\":6,\"x\":6,\"y\":8},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"sum\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} | level=\\\"ERROR\\\" [$__interval])) or vector(0)\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Total Errors\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"description\":\"Number of fetcher threads active in the last 30 seconds. Red: 0 threads (stopped), Yellow: 1-9 threads (low activity), Green: 10+ threads (healthy)\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"max\":100,\"min\":0,\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"red\",\"value\":0},{\"color\":\"yellow\",\"value\":1},{\"color\":\"green\",\"value\":10}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":4,\"w\":6,\"x\":12,\"y\":8},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"legend\":{\"displayMode\":\"list\",\"showLegend\":false},\"minVizHeight\":75,\"minVizWidth\":75,\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"last\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"showThresholdLabels\":true,\"showThresholdMarkers\":true,\"sizing\":\"auto\",\"text\":{},\"textMode\":\"auto\",\"tooltip\":{\"mode\":\"single\",\"sort\":\"none\"},\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"direction\":\"backward\",\"editorMode\":\"code\",\"expr\":\"count(count by (thread) (count_over_time({job=\\\"nutch\\\"} | class=\\\"o.a.n.f.FetcherThread\\\" [30s])))\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Active Threads Now\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"description\":\"Count of robots.txt and crawl-delay related log entries\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"blue\",\"value\":0}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":4,\"w\":6,\"x\":18,\"y\":8},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"sum\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"direction\":\"backward\",\"editorMode\":\"code\",\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} |~ \\\"robots|crawl\\\" [$__interval]))\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Robots/Crawl Delay Events\",\"type\":\"stat\"},{\"description\":\"Activity rate of different Nutch fetcher components\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"logs\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":0,\"y\":12},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\",\"sum\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"multi\",\"sort\":\"desc\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum by (class) (count_over_time({job=\\\"nutch\\\"} | class=~\\\"o.a.n.f.*\\\" [$__auto]))\",\"instant\":false,\"legendFormat\":\"{{class}}\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Fetcher Activity by Class\",\"type\":\"timeseries\"},{\"description\":\"Activity by individual fetcher threads\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"logs\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":12,\"y\":12},\"options\":{\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":false},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"sum by (thread) (count_over_time({job=\\\"nutch\\\"} | class=\\\"o.a.n.f.FetcherThread\\\" [$__auto]))\",\"instant\":false,\"legendFormat\":\"{{thread}}\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"FetcherThread Activity\",\"type\":\"timeseries\"},{\"description\":\"Latest ERROR level log entries. If you see 'No data', there are no errors in the selected time range - which is good! ✓\",\"fieldConfig\":{\"defaults\":{},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":24,\"x\":0,\"y\":20},\"options\":{\"dedupStrategy\":\"none\",\"enableInfiniteScrolling\":false,\"enableLogDetails\":true,\"showCommonLabels\":false,\"showControls\":false,\"showLabels\":false,\"showTime\":true,\"sortOrder\":\"Descending\",\"wrapLogMessage\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"{job=\\\"nutch\\\"} | level=\\\"ERROR\\\"\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Recent Errors\",\"type\":\"logs\"},{\"description\":\"Latest WARN level log entries\",\"fieldConfig\":{\"defaults\":{},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":24,\"x\":0,\"y\":28},\"options\":{\"dedupStrategy\":\"none\",\"enableInfiniteScrolling\":false,\"enableLogDetails\":true,\"showCommonLabels\":false,\"showControls\":false,\"showLabels\":false,\"showTime\":true,\"sortOrder\":\"Descending\",\"wrapLogMessage\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"{job=\\\"nutch\\\"} | level=\\\"WARN\\\"\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Recent Warnings\",\"type\":\"logs\"},{\"description\":\"Latest log entries from Nutch crawler\",\"fieldConfig\":{\"defaults\":{},\"overrides\":[]},\"gridPos\":{\"h\":10,\"w\":24,\"x\":0,\"y\":36},\"options\":{\"dedupStrategy\":\"none\",\"enableInfiniteScrolling\":false,\"enableLogDetails\":true,\"showCommonLabels\":false,\"showControls\":false,\"showLabels\":false,\"showTime\":true,\"sortOrder\":\"Descending\",\"wrapLogMessage\":true},\"pluginVersion\":\"12.4.0-19938312174\",\"targets\":[{\"datasource\":{\"type\":\"loki\",\"uid\":\"grafanacloud-logs\"},\"expr\":\"{job=\\\"nutch\\\"} | level=~\\\"INFO|WARN|ERROR\\\"\",\"instant\":false,\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Recent Crawler Activity\",\"type\":\"logs\"}],\"preload\":false,\"schemaVersion\":42,\"tags\":[\"apache-nutch-integration\"],\"templating\":{\"list\":[]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{},\"timezone\":\"browser\",\"title\":\"Nutch Crawler Monitoring\",\"uid\":\"lelnkpd\",\"weekStart\":\"\"}","dashboard_id":3619631356211200,"folder":"ef7whgu312qkgb","id":"0:lelnkpd","message":null,"org_id":"0","overwrite":true,"uid":"lelnkpd","url":"https://lewism.grafana.net/d/lelnkpd/nutch-crawler-monitoring","version":1},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_dashboard","name":"nutch_metrics","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":1,"attributes":{"config_json":"{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"grafana\",\"uid\":\"-- Grafana --\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"type\":\"dashboard\"}]},\"description\":\"Comprehensive monitoring dashboard for Apache Nutch crawler metrics including fetcher performance, parser statistics, CrawlDB state, and more.\",\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":0,\"links\":[],\"panels\":[{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"panels\":[],\"title\":\"Fetcher Metrics\",\"type\":\"row\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"Currently active fetcher threads processing URLs\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"red\",\"value\":0},{\"color\":\"yellow\",\"value\":1},{\"color\":\"green\",\"value\":10}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":0,\"y\":1},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_active_threads or vector(0)\",\"instant\":true,\"queryType\":\"instant\",\"range\":false,\"refId\":\"A\"}],\"title\":\"Active Threads\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"Maximum configured fetcher threads\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"blue\",\"value\":0}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":4,\"y\":1},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_configured_threads or vector(0)\",\"instant\":true,\"queryType\":\"instant\",\"range\":false,\"refId\":\"A\"}],\"title\":\"Configured Threads\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"Threads waiting for work\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"blue\",\"value\":0}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":8,\"y\":1},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_spin_waiting or vector(0)\",\"instant\":true,\"queryType\":\"instant\",\"range\":false,\"refId\":\"A\"}],\"title\":\"Spin Waiting\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"Number of active fetch queues\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":12,\"y\":1},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_queue_count or vector(0)\",\"instant\":true,\"queryType\":\"instant\",\"range\":false,\"refId\":\"A\"}],\"title\":\"Queue Count\",\"type\":\"stat\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"Total URLs waiting in queues\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"yellow\",\"value\":1000},{\"color\":\"red\",\"value\":10000}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":8,\"x\":16,\"y\":1},\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"percentChangeColorMode\":\"standard\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showPercentChange\":false,\"textMode\":\"auto\",\"wideLayout\":true},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_queues_total_size or vector(0)\",\"instant\":true,\"queryType\":\"instant\",\"range\":false,\"refId\":\"A\"}],\"title\":\"URLs in Queues\",\"type\":\"stat\"},{\"description\":\"Download throughput in bytes per second\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":20,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"Bps\"},\"overrides\":[]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":0,\"y\":6},\"options\":{\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_bytes_downloaded_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Download rate\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Download Rate\",\"type\":\"timeseries\"},{\"description\":\"Robots.txt denials, exceptions, redirects, and timeouts\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":10,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"reqps\"},\"overrides\":[]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":12,\"y\":6},\"options\":{\"legend\":{\"calcs\":[\"sum\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"multi\",\"sort\":\"desc\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_robots_denied_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Robots denied\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_robots_denied_maxcrawldelay_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Max crawl delay\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_above_exception_threshold_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Exception threshold\",\"queryType\":\"range\",\"range\":true,\"refId\":\"C\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_redirect_count_exceeded_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Redirect exceeded\",\"queryType\":\"range\",\"range\":true,\"refId\":\"D\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_fetcher_hit_by_timelimit_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Time limit hit\",\"queryType\":\"range\",\"range\":true,\"refId\":\"E\"}],\"title\":\"Errors \\u0026 Robots\",\"type\":\"timeseries\"},{\"description\":\"Outlinks discovered and followed during fetching\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":10,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":0,\"y\":13},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\"],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_outlinks_detected_total\",\"instant\":false,\"legendFormat\":\"Detected\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_outlinks_following_total\",\"instant\":false,\"legendFormat\":\"Following\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"}],\"title\":\"Outlinks\",\"type\":\"timeseries\"},{\"datasource\":{\"type\":\"prometheus\"},\"description\":\"Fetch latency distribution (p50, p95, p99)\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"ms\"},\"overrides\":[{\"matcher\":{\"id\":\"byName\",\"options\":\"p50\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"green\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"p95\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"yellow\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"p99\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"red\",\"mode\":\"fixed\"}}]}]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":12,\"y\":13},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\",\"mean\",\"max\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_latency_p50_ms\",\"instant\":false,\"legendFormat\":\"p50\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_latency_p95_ms\",\"instant\":false,\"legendFormat\":\"p95\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_fetcher_latency_p99_ms\",\"instant\":false,\"legendFormat\":\"p99\",\"queryType\":\"range\",\"range\":true,\"refId\":\"C\"}],\"title\":\"Fetcher Latency Percentiles\",\"type\":\"timeseries\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":20},\"panels\":[],\"title\":\"Parser Metrics\",\"type\":\"row\"},{\"description\":\"Parser operations per second\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":20,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"ops\"},\"overrides\":[]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":0,\"y\":21},\"options\":{\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_parser_success_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Parse rate\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Parser Success Rate\",\"type\":\"timeseries\"},{\"description\":\"Parser latency distribution (p50, p95, p99)\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":0,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"ms\"},\"overrides\":[{\"matcher\":{\"id\":\"byName\",\"options\":\"p50\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"green\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"p95\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"yellow\",\"mode\":\"fixed\"}}]},{\"matcher\":{\"id\":\"byName\",\"options\":\"p99\"},\"properties\":[{\"id\":\"color\",\"value\":{\"fixedColor\":\"red\",\"mode\":\"fixed\"}}]}]},\"gridPos\":{\"h\":7,\"w\":12,\"x\":12,\"y\":21},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\",\"mean\",\"max\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_parser_latency_p50_ms\",\"instant\":false,\"legendFormat\":\"p50\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_parser_latency_p95_ms\",\"instant\":false,\"legendFormat\":\"p95\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_parser_latency_p99_ms\",\"instant\":false,\"legendFormat\":\"p99\",\"queryType\":\"range\",\"range\":true,\"refId\":\"C\"}],\"title\":\"Parser Latency Percentiles\",\"type\":\"timeseries\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":28},\"panels\":[],\"title\":\"CrawlDB Metrics\",\"type\":\"row\"},{\"description\":\"URLs in CrawlDB by status\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":10,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":1,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"normal\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":24,\"x\":0,\"y\":29},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\",\"sum\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"multi\",\"sort\":\"desc\"}},\"pluginVersion\":\"12.4.0-20160616057\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_crawldb_fetched\",\"instant\":false,\"legendFormat\":\"Fetched\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_crawldb_unfetched\",\"instant\":false,\"legendFormat\":\"Unfetched\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_crawldb_gone\",\"instant\":false,\"legendFormat\":\"Gone (404)\",\"queryType\":\"range\",\"range\":true,\"refId\":\"C\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_crawldb_redir_perm\",\"instant\":false,\"legendFormat\":\"Permanent Redirect\",\"queryType\":\"range\",\"range\":true,\"refId\":\"D\"}],\"title\":\"CrawlDB URL Status\",\"type\":\"timeseries\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":37},\"panels\":[],\"title\":\"Generator Metrics\",\"type\":\"row\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"description\":\"URLs rejected by Generator scheduling. Note: No data is not necessarily a bad thing - it may indicate the generator hasn't run recently or has no rejections.\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":10,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"reqps\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":24,\"x\":0,\"y\":38},\"options\":{\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-19938312174\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"rate(nutch_generator_schedule_rejected_total[$__rate_interval])\",\"instant\":false,\"legendFormat\":\"Schedule rejected\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"}],\"title\":\"Generator Rejections\",\"type\":\"timeseries\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":46},\"panels\":[],\"title\":\"Injector Metrics\",\"type\":\"row\"},{\"description\":\"Total and unique URLs injected into CrawlDB. Note: No data is not necessarily a bad thing - it may indicate no injection jobs have run during this time period.\",\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"palette-classic\"},\"custom\":{\"axisBorderShow\":false,\"axisCenteredZero\":false,\"axisColorMode\":\"text\",\"axisLabel\":\"\",\"axisPlacement\":\"auto\",\"barAlignment\":0,\"barWidthFactor\":0.6,\"drawStyle\":\"line\",\"fillOpacity\":10,\"gradientMode\":\"none\",\"hideFrom\":{\"legend\":false,\"tooltip\":false,\"viz\":false},\"insertNulls\":false,\"lineInterpolation\":\"linear\",\"lineWidth\":2,\"pointSize\":5,\"scaleDistribution\":{\"type\":\"linear\"},\"showPoints\":\"auto\",\"showValues\":false,\"spanNulls\":false,\"stacking\":{\"group\":\"A\",\"mode\":\"none\"},\"thresholdsStyle\":{\"mode\":\"off\"}},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":0},{\"color\":\"red\",\"value\":80}]},\"unit\":\"short\"},\"overrides\":[]},\"gridPos\":{\"h\":7,\"w\":24,\"x\":0,\"y\":47},\"options\":{\"legend\":{\"calcs\":[\"lastNotNull\"],\"displayMode\":\"table\",\"placement\":\"bottom\",\"showLegend\":true},\"tooltip\":{\"hideZeros\":false,\"mode\":\"single\",\"sort\":\"none\"}},\"pluginVersion\":\"12.4.0-19938312174\",\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_injector_urls_injected_total\",\"instant\":false,\"legendFormat\":\"Total injected\",\"queryType\":\"range\",\"range\":true,\"refId\":\"A\"},{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"grafanacloud-prom\"},\"expr\":\"nutch_injector_urls_unique_total\",\"instant\":false,\"legendFormat\":\"Unique URLs\",\"queryType\":\"range\",\"range\":true,\"refId\":\"B\"}],\"title\":\"Injector Statistics\",\"type\":\"timeseries\"}],\"preload\":false,\"schemaVersion\":42,\"tags\":[\"apache-nutch-integration\"],\"templating\":{\"list\":[]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{},\"timezone\":\"browser\",\"title\":\"Nutch Metrics Dashboard\",\"uid\":\"lez89c4\",\"weekStart\":\"\"}","dashboard_id":3619631364599808,"folder":"ef7whgu312qkgb","id":"0:lez89c4","message":null,"org_id":"0","overwrite":true,"uid":"lez89c4","url":"https://lewism.grafana.net/d/lez89c4/nutch-metrics-dashboard","version":1},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_folder","name":"nutch","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"id":"0:ef7whgu312qkgb","org_id":"0","parent_folder_uid":"","prevent_destroy_if_not_empty":false,"title":"Integration - Apache Nutch","uid":"ef7whgu312qkgb","url":"https://lewism.grafana.net/dashboards/f/ef7whgu312qkgb/integration-apache-nutch"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_loki_critical","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-loki-critical-alerts","interval_seconds":60,"name":"nutch-loki-critical-alerts","org_id":"1","rule":[{"annotations":{"description":"No active fetcher threads detected for 2 minutes - crawler may have crashed or completed unexpectedly","summary":"Nutch crawler has stopped"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\", class=~\\\".*FetcherThread.*\\\"} [5m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[1],\"type\":\"lt\"},\"type\":\"lt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"2m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"critical","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchCrawlerStopped","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"cf7whgvl4vk74b"},{"annotations":{"description":"More than 50 errors in the last 5 minutes - check logs for details","summary":"Nutch high error rate"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\", level=\\\"ERROR\\\"} [5m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[50],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"general","severity":"critical","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchHighErrorRate","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ff7whgvlcd98gb"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_loki_info","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-loki-info-alerts","interval_seconds":60,"name":"nutch-loki-info-alerts","org_id":"1","rule":[{"annotations":{"description":"Fetcher job initialization detected","summary":"Nutch crawl job started"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} |= \\\"Fetcher: starting\\\" [1m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":60,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[0],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"info","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchCrawlJobStarted","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ff7whgv74g2dcf"},{"annotations":{"description":"Fetcher job completed","summary":"Nutch crawl job finished"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} |= \\\"Fetcher: finished\\\" [1m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":60,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[0],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"info","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchCrawlJobFinished","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"df7whgv7bxreof"},{"annotations":{"description":"Indexing job finished - documents sent to search index","summary":"Nutch indexing job completed"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} |= \\\"IndexingJob: finished\\\" [1m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":60,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[0],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"indexer","severity":"info","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchIndexingCompleted","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"af7whgv7jfgg0d"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_loki_warning","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-loki-warning-alerts","interval_seconds":60,"name":"nutch-loki-warning-alerts","org_id":"1","rule":[{"annotations":{"description":"More than 10 errors in the last minute - transient issue or emerging problem","summary":"Nutch error spike detected"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\", level=\\\"ERROR\\\"} [1m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":60,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[10],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"general","severity":"warning","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchErrorSpike","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ef7whgvce8cn5f"},{"annotations":{"description":"No log entries detected for 5 minutes - crawler may be stopped or log pipeline may be broken","summary":"No Nutch crawler activity"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} [5m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[1],\"type\":\"lt\"},\"type\":\"lt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"5m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"general","severity":"warning","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchNoCrawlerActivity","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"cf7whgvclq1oga"},{"annotations":{"description":"More than 100 warnings in the last 5 minutes - review for potential issues","summary":"Nutch high warning rate"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\", level=\\\"WARN\\\"} [5m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[100],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"5m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"general","severity":"warning","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchHighWarnRate","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"af7whgvcvpn28e"},{"annotations":{"description":"OutOfMemoryError or GC issues detected in logs - increase heap size or reduce concurrency","summary":"Nutch JVM memory issues detected"},"condition":"B","data":[{"datasource_uid":"grafanacloud-logs","model":"{\"expr\":\"sum(count_over_time({job=\\\"nutch\\\"} |~ \\\"(?i)(OutOfMemoryError|heap space|GC overhead limit)\\\" [5m]))\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[0],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"0s","is_paused":false,"keep_firing_for":"","labels":{"component":"jvm","severity":"warning","source":"logs"},"missing_series_evals_to_resolve":0,"name":"NutchOutOfMemory","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"bf7whgvd37c3kc"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_mimir_critical","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-mimir-critical-alerts","interval_seconds":60,"name":"nutch-mimir-critical-alerts","org_id":"1","rule":[{"annotations":{"description":"Fetcher threads are hung and not responding","summary":"Nutch fetcher has hung threads"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"nutch_fetcher_hung_threads_total\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[0],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"5m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"critical"},"missing_series_evals_to_resolve":0,"name":"NutchFetcherHungThreads","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"bf7whgv74g2ddf"},{"annotations":{"description":"No bytes downloaded in the last 15 minutes - crawler may be stalled","summary":"Nutch fetcher has zero throughput"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_fetcher_bytes_downloaded_total[10m])\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":600,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[1],\"type\":\"lt\"},\"type\":\"lt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"15m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"critical"},"missing_series_evals_to_resolve":0,"name":"NutchFetcherNoThroughput","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"df7whgv7efnr4f"},{"annotations":{"description":"URLs dropped due to exception threshold in queue","summary":"Nutch queue exception threshold exceeded"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_fetcher_above_exception_threshold_total[5m])\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[10],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"5m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"critical"},"missing_series_evals_to_resolve":0,"name":"NutchHighExceptionRate","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"df7whgv7lxcsgb"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_mimir_info","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-mimir-info-alerts","interval_seconds":60,"name":"nutch-mimir-info-alerts","org_id":"1","rule":[{"annotations":{"description":"More than 100 duplicates/min detected","summary":"High duplicate detection rate"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_dedup_documents_marked_duplicate_total[5m]) * 60\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[100],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"10m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"dedup","severity":"info"},"missing_series_evals_to_resolve":0,"name":"NutchHighDuplicateRate","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ef7whgv0lplvke"},{"annotations":{"description":"More than 1000 URLs/min rejected by schedule","summary":"Generator rejecting many URLs"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_generator_schedule_rejected_total[5m]) * 60\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[1000],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"10m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"generator","severity":"info"},"missing_series_evals_to_resolve":0,"name":"NutchGeneratorHighRejection","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"bf7whgv0vp79cc"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]},{"mode":"managed","type":"grafana_rule_group","name":"nutch_mimir_warning","provider":"provider[\"registry.opentofu.org/grafana/grafana\"]","instances":[{"schema_version":0,"attributes":{"disable_provenance":false,"folder_uid":"ef7whgu312qkgb","id":"0:ef7whgu312qkgb:nutch-mimir-warning-alerts","interval_seconds":60,"name":"nutch-mimir-warning-alerts","org_id":"1","rule":[{"annotations":{"description":"More than 50 URLs/min blocked by robots.txt","summary":"High rate of URLs denied by robots.txt"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_fetcher_robots_denied_total[5m]) * 60\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[50],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"10m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"warning"},"missing_series_evals_to_resolve":0,"name":"NutchHighRobotsDenied","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"af7whgvce8cn4a"},{"annotations":{"description":"More than 20 timeouts/min - check network or target sites","summary":"High rate of fetch timeouts"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"rate(nutch_fetcher_hit_by_timeout_total[5m]) * 60\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":300,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[20],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"10m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"warning"},"missing_series_evals_to_resolve":0,"name":"NutchHighTimeouts","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ef7whgvclq1oha"},{"annotations":{"description":"P99 fetch latency exceeds 30 seconds","summary":"Nutch fetch latency is high"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"nutch_fetcher_latency_p99_ms\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":600,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[30000],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"10m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"warning"},"missing_series_evals_to_resolve":0,"name":"NutchHighFetchLatencyP99","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"bf7whgvcy7jeof"},{"annotations":{"description":"More than 10000 URLs in fetch queues","summary":"Large fetch queue backlog"},"condition":"B","data":[{"datasource_uid":"grafanacloud-prom","model":"{\"expr\":\"nutch_fetcher_queues_total_size\",\"queryType\":\"instant\",\"refId\":\"A\"}","query_type":"instant","ref_id":"A","relative_time_range":[{"from":900,"to":0}]},{"datasource_uid":"__expr__","model":"{\"conditions\":[{\"evaluator\":{\"params\":[10000],\"type\":\"gt\"},\"type\":\"gt\"}],\"expression\":\"A\",\"refId\":\"B\",\"type\":\"threshold\"}","query_type":"","ref_id":"B","relative_time_range":[{"from":0,"to":0}]}],"exec_err_state":"Alerting","for":"15m0s","is_paused":false,"keep_firing_for":"","labels":{"component":"fetcher","severity":"warning"},"missing_series_evals_to_resolve":0,"name":"NutchQueueBacklog","no_data_state":"NoData","notification_settings":[],"record":[],"uid":"ff7whgvd874sge"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["grafana_folder.nutch"]}]}],"check_results":null}
